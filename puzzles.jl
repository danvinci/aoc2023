### A Pluto.jl notebook ###
# v0.19.32

using Markdown
using InteractiveUtils

# ╔═╡ f1ae139b-c300-4b59-8014-b813069a53a5
using PlutoUI

# ╔═╡ 868c9f16-ef29-4d9b-a352-06849c882351
md"## #1"

# ╔═╡ af1138da-3cde-4f80-8065-14ebd681dd96
input_1 = "fouronevhnrz44
eightg1
4ninejfpd1jmmnnzjdtk5sjfttvgtdqspvmnhfbm
78seven8
6pcrrqgbzcspbd
7sevenseven
1threeeight66
one1sevensskhdreight
rninethree6
eight45fourfgfive1
xdlnbfzxgfmhd4t
7tf
8oneldkrfcssbfeight
five5ninebvvfv
sixrhxkzcgfhltrchq3three91
lnxms8
threekv33eightninethree
fourxrsxhclj99twosevennine7htxdr
5hdhtdxgktztjdjrhkmlblsevenseven1four8
25xmvshkbmtkmvqpfhgq8fivefqctjm6two
nine533two
sixmbkjzpcxvfive2
seven3fivevhkpjvfqsfivemfdvlkhhmmvtztjf
3eight5threefour
fplrjjznseventwocrv9
mxqvdb5onesix84fpkzf
17five6mvxgkkmz2two2mf
lrqnqfncvvvrrpkfour92xsxfztwonehsb
dphngmgfhhhcjxmbmqdk3nine54
34xdbhnbhbmljxc55oneeight
cpgdcctwothreevlqmk1qpdthree
977ckpkmx5
7cx81
vrtgzhhrsevennzgjqhsqdxcjtm2gsj
dtkgj89bz5threenine
256mctgqnjbpr
smmthmrnj6threevrndhnrqq4qpnxz
vfrcvbgpdfjbzhchqmtjgxrmddhmggmqrgs7gxfjffivefour
twoeight8two3
threedpfour5eightthreebc3
csdfivefhgkjfcsvsvqsrbtplhjnine7pqhpvhjqone
seven3375sevenqgjndftrsh9
4six1npbnvfdl27hqvdrxztq
twopmmblrnhmq6zp1
34jvrtkfdcmnmblg269six5
fouroneeight1lpvssjskkjvhpmcb
kjb6
8rsix4
hcprhbhzgjklpql92pntdmxskg
3766zthm7lts
eight9sixqnkqbfrbrstbxxsixeight
sjncbhbcrmnmsmf4sixkhscclmrjfjgqgrdtpjqpgdsg3
zrxtgzscx5lgfcsbqkjnst1
nineonedzhsqlscgl2xpk
9eightljkpkkq
blhstnzdfttwocfjhgsix41hrx6
5dzsix5
vhlkone6five79
nkkm65tfnxhtmzrfpfive
7hcnzjn4
ngckn5ppcsvjsbstwo
5qld
zbgghnineninezkphpf6
8nine4sevenjlhlzlbztxbcrpc
3bcdmqxgb
8xvhfr3foureightwocj
nine68zvlfs
8one8xldlrninenine81seven
7dtvdvgnnqt6
htxkfzhxhfmc7631lklzppbtrbfive
seven89lrxddqtsvvt18
dnvcsqcmp7fourkrjhndsghjr
ztkqqqdctdeightonefivezdctxbfg7two8
lptlbtmmkdthreetfcttkknf53gtmvkcgmj9zvsvmsbstznmd
hbxr1ninefvjkkxkhbrtwo6
dbmxvpsvp7jdnvsdnlv
seventhree1
seven1oneseven
seventhreejcdvcgfthzlvl8eighttwo1
2fqkkgsvpjv9ninesix
xfmkdtxk2two
6fourfive
hpghf2cfgrmb34
714
nineonemrzxsmtwo28
llgnrpcdxt4eightninedl9
pdvhcvpmceightpfjpgvbfnrhh9
gvzzrvhmj464
592eightmvkdnjqthreedtcldng9
77nineonethreerqnrgczsn4hhdnpbtkxthree
four78zrqfourtwo
5chnktntwoninezqzfhthreegpmkvrsbfs
mpgvbnzldvbhchthreeseven4cvone
nmfbdpeightfour9fiveqnnmbfsheightsix
onexrjdhtmsdkssrgghlfsx5fourtwofive
5seven3zfdnqxqqdgqcphhjctjhddfggrfstqrb7
hcpcvfllseven8
qhpmcthree1sixdjkg
32mgqbmsn6five4c1
seven78
four8three
9seven5five6
five67
twopqsjvpfxdone81gsztrlxrhx5
9bctqg
jqkhxlnvfhninepzmvfmm5
fglgdrnlnqthreeeightfoursevenseven368
nineeightjvzdqnpnzf86qpffrfsp6
34kckxkrq
sixppr854
oneeight6
7onerhqgbzheightpvxjnsfdnmfive
68seven3
56ninedgzqmlvjp22
six69nine7threethree
6oneightskl
5six9four5twoone
fivefourfourhvgfqrqst99
2qvvnrbvjhs8dstfpfnineldkpnkskz7
41jrhj9nfeightonecqrdg
7onefour8
rxtdz5gbxbvdxbbpghfvljdbknqsqgtmmgrhf
79kftqmdnbj
1cf4
threekdrpvtsdtrdfzxtvqh3
zxcnsfkvfivezhcknlhcqfour9159
twodjdbsfive7two
47bnvbkseven4one7
nleightwo7
twofive5gptl3nine6twopngsq
eightqn32seveneightqfrfmsfgqhfourvrgdkfnxn
sixfivefivepnxb1jqzx4lk5
three97onebssix2
fivebvkhcmt3one6twonegf
xzrv997pfhxsblfive8
5nptkzbsixxgpmrkxponegnnqfqtgvl4
7mvxkfkjkxninesevenxjtrjxbj
jfloneightfivetwo7flmf
qpncksix1fourthreesixtwo7fcjjdx
17nineninesixhpbh
four88ngtbtfcqfr6tjqbqhrktf
vgtvfsftvljjkxnsevenltszqrgm6cgxjlqsgcqonelcdjv
6tznfmdzxkt
nineoneninefive2oneightdp
kmjjzvblthreethreefour1dhrsk2pfjx
fourfive6six2
rmqzgfivenineeightnine6qqnxclq
fourninefive3kgeightonerfxsr
four7qjpkrfxsvt31seventhree
vqgqgk69twoseven
qfxvmhk9
six1b69
vcbmbfjrdpnfour9
twoclpjtndvxj8fpxblseven
28xrggnqqttk544
39hgczgvjhvs31fivesix
qstz85sevennine
ddc5lqftnmhldv4dxfvhrxcnltr61
ninedhhmpzntqlninef7
63fourhznh
three39foureight
4zlfzjfrqsixjzb
2sfiveeight
fourfivefive46
fglfbbseven7445three5mfgrmkfgdc
8sg
128three3seven
five4threehrggrjgjpninetwo5eight
3hjnmvhtfxpzmdt7224txvnpnjsjf6
beightwobhz86fdhsthreeqjxccxhjvk45r
lgd2sixf7
6ninefour
hmhfeightsevenvlgdrm3five6kkjblfqbjsnxtcxrpg
jxvh5jjxvfdeightwon
1qfqdqxvtsztkkjxqz
1onenineppgphdtt
fourrppqprfmlpxbvdhpltfive1qfzr
xhqkzhchcmfnrpstgntwobrntnm4
nplmsixmx5six
dtvrlxzdb4clddlfivefour4one
67cnqshcbgsix54two8
7s
fourfourhbv28six91
seven6twospmcsixcvmzfj9nine1
1five1bphjprtm2twoxfslkqh9four
eight7bfzdbfccfl7
8eightl
klfpjslgdmgbxlftszdltn1
eightseven5threeseven
onenjvvqsfhgfhmtv6foureight51
qttmv8zxdh25hshpn4
7875
3ljptgbzsix1sgqrqlgml6sevenfktjtgtv
tdtwonethreeeightfivethreeqmdmc9
rkx1
eightseven26ftngc
tjxxsdsnxg696xhthree
2gdbxmxqjxnninefivenzhpmx3zqh
91kq5sixspxqqvpjxrp
mkztv5knjkzrgcz
3ninefpdbptdnine3qpzc
fourtwodg86
nineeight1sixfourseven
dvlgone1foursndcghxgxzrtsztceight8
6bskrcjthree
fourninebgcqkdlrx79
4sevenxfoneh
gmvptkcgx69vqxmckppmlnptsrndfrhtc
9959ngrjdgltllpmrtbrgrdpnjlgl6three
2c
3qncfdmhdcmleight1
3eightvfstts
sd7175nlpq9xhfour
foursevenfour477four
snsixthree7bmlrvdtmx
nhsninesevenjjhgthzhfour66seven
52onepcltqtlnk
fivedvndklt1twoxplzqtgf
1twohpd8xxtwojmcblxxtdk
nnctpnrhjtqvcpnbncpfsixseven9rrbxblhcsr
95ninemvhbqhpkqksixsevenone
5seventwothree
threeonetwonine2
cqbrtdnjzgx38twoneshm
4fivenine1
czsfivenkkqbqbbpc1
sjmeighttwo32one771
5mtmkhkhd7nineeightrq4six
one7vknzhj9ninesix
jcsqnxhp1pmfpvkdmcgzm
zjm5two2
4onejhdtnhqtlcggbxpmhtfiveone
nr6hvcspxjgvmlbdtgs326two
fivevsrfcv5fnkpftvrbnine
kbtwonesixbbrtjvcbblzh4
2fourthree
eightntgeightfivesix8
twoninefive42
bcjxfqlqvfslqgq52
tmrthree8twoxthreers
9fivenineeight9xdnnqkfbnkg
onesclfxsljp2
5one34
18nlbghthpmhntqpxnfivebfstnkcrpvxmrlrhcq
fourthreesix43three2fhn
nine5zbqpcxffpmmzxp
dbjgphmmvf7eight
6tks
ldnkcj6572two5sevenf
6jlbdqjrx86pxxnhneight
191pbjnlqh7vkgvrhtrkxqfgxczq
qpxpcnmmmone3zkm2nine5gttbdpggf
vnbfthmm1hckvdcqqv1sixxpldbmnxmmgrbl
eight5ftlsixlmrf
6gtqkvvmvvq5seven6mkxvxpfthreenine
jbskqm5gfntjjqtz
2eight72
nineplkthreesxpeightxzkfvg4
xzcqqnq5seven2vtsldzpfnine
six9t1rmbnzrkdh1
75kcdztv7
two4gbffour
seven8rlqhshzsixmtmpvfzjpeight5sixvh
7nrrcqpdqhfourthree
21fivenine2kjxmlmnhz6
3stsfthreejgzxhbseven7threebfhlml
dtdeightwo4jxrfivebpzf
qhrr2five5oneightr
pp2pbjgmgffctbtseven
737kbsxrtpcgslrmcnd4
qpxrkdnineqzkkhzjfqqv7twocghmkrh47
gfptsfour4ldrjlvzghq
9ninezvxqzhlgzckb8fztrsevenvlqgdm
7562sjpbvpeighttwo
qsmnktmlpznxz25gpgjqsm
7two5tctnfxgqvd2four
rls41threezlpkvtbhvk4sixnine
six8dpd
msljvkd6fourbtzfjphskfxqpjkzmzgkxvqn6hddzxj
mfspzjjcfour49csfjgjkdmktns
b3tllpmmqkktclkntlbgkkg9five
rqnbftghx35
rcgrb26five
sevenvkhzbljfour9czkpdltxlbqbdgcpz
two7fivehrqeight
mgmvtjl1zffzbt3two
trxmmtdrvh1scjhcsevenonejmzhsbttgfseven
one8sixtwo58
nrs24
threerrrrtjhngptrpsrq8sevensixtwoonecntmmmxtjf
mzgmrh5qcml
4lfxxdgnnjzeightninesone
phvmnnvzseveneighttwosixplbrb5
sixnineqqgbmlxdrvsrfhkrff5
6sdfldthgvctwosevenvvnbgqxjrn
7112xslv
sevenfoureightfivefivelkhnxb98
nine6pljkszdp6
two4xlhfhrz5kbpstsfive
bbgdsix5
sevenlcbsdlhftwozsnx1two5
one2jjmlqsnxx1b
sevensixsix5sevenzqhjzlkjgnvsxfkfvxzhq
lone19four1
1fivesixpv
eightfour1
xsbgprjfthreefoursevenrqzbcbfnbhtwo2two
ldtwoseven47dcrppbfbv
1fivexgtwosixone18three
nine93oneseven
5qdneight61xpg
rdzckkb5five7ggmbkzjshx
37lxlgmveight8
scqvdhm9b
seven9six
pvthreesixfourgctbsix8eightseven
83oneonej
5four83cfmnthreeone
fivefiveeight1
9tnbqpthbn5kvgmsmfmfsevenqdrksixmbmgm
onecrs76
vgdqvmt23onesix
dlvmvtj6eight2dxjrhdlfghfhxcsxz6tbkz
414sixdbzhmxthree
sevenfivesevencffvbdhtk5qmplrjzxnjnbnt6
qgqjxchmxfourknine447three
4tfour
fivercfvsvlfglbxrtvxznhr8five
sevensixonesix7399
two17
zcmdlqzhps5twotwojkltrxb7three
xllqtjpxsixsevenfivefour29
ninetpzpr51
6751three6
rcfpnskfivethreelbtgpltxsevenfourbtcs8eightwokb
eight7rfr2
six5onenine29
zjbj238
rgprs5fiveldvmgqktnn
meightwossfvkncf5sevenfivesqpgrtnnj
onez4eightfour62tmrjmprthree
foursevenjtwoc3threesixfj
qmmzmzlxmthreezvzxv6zgcztv
73mbm
nine251k1
sixhtfhzcbtq7sevenonesnkpfvsnnnine
seven44vp4jxbrvkzcmlnjfiveoneightvzx
3twoseven5
one8mfpgflgqkb2six7dtgftrplb
lrgnb4ninetwo5vjsmmb9
6sixq2three
999eightvkpcpv4
947fourtxdmhv
9msczjqjggsk3six4
bone1
5fivevvlljvmsdgqjnrhfourkstccckr
7hpblpnmxqlninethreesixpvpnine
nineeightdsrqfdnghgkeightone8mpkvfdhz
4sevencrjtpdq
mbvgsfoneltqkfnbpftxhtv7two
onegbvcctwo8onesevenone2six
vt36onetlmtqbv
nvvxx51
threefnvcvbnzvs4
7rxcjjdeight81587
mdmjsg3seventhreesn
dtxsdmsvjcjx819jhhpzzf9
9jcxsninetsl2
6vcllfssthkxgdgh1ghjscsrvnhrpmjllh
6kkhpcjhmseighteightppvdkffdcpchttzone
878
sixdkkjchkjqtllfpn31rpgxspktkgxjgcf
2eightsixzs3kx9
sixthreetwo9
35vtgrpcqcnvfive
4ninegqqlc49fourthree4two
czd4eight
tfcmfdxhhqlroneninethree43
8tbx
1xqpdxznzhsixseveneight2
6hg9clj
vfnthreevzt88
seven4317pkxd13
stvltfvs7eightcmj
nbrxfmsshronesevenrrnp8seven4
7jvtgqvm36fivegccbpkp
6threeeightfive8tnlninekb
eight1sixtp
17ninezjhchkvq
tfxvhhkltlnffournlmlsqfclqlrsk31
two889threezthree1two
five9one48twothree
eightseven8dqjsixlrsrscgzjpfour4
988nine4fk3
76dfkqfbqzffplx
9zmgrr9
jhsbj4twohxrgdr
kgcfgninetwoctqzfbhhvffive2fzlk
8six25
six35oneseven7
2cvxrnine33four27zk
4xctr9threemrckmkmjgtpxzfqdzg
fivelrs3ncmgdxgqhnfqrlzlnbvrqp
3zgblb
rztshfoursixfour226four
2hfth
5d94fiveninezfvprvgtnxfive
21four5zcb6szsjgsseight
2fivefpdkzxxgchfourp25lsnqjrmxmq
gxlbzlfzsixtwo8snhpdtgdgthkrvzsxkd3
five4n2
gscjzkgkeightqlljzx12fiveonebqzmlh
xhsrzj1
klxkdzxvvrljbnrhfive7four7
3sxmbgvxkmkpfqxccvj8eight2hl
2bcdbsllgcmftxftmzrhnfive9dgkqpqkloneskztwonesgh
eightsix7nine7eight69
five6lsgslhtzzv
fivesix47
3kxfbcjz6vmhzvkgpjbfqq34seven
threevlmlfm58threebkfdzd5fourkpgddjlqsz
sevenzdeightdtxrxzckfktrfpm7
qjkrfltlsdrrcm6
795six3hmlkdnine3
foursixxjnqsljktnnbtwoeight2mskdbkbtk4
fivetwothreeeight9sixqhqzm
fiveqjdksix14jlzcvck
16sevensixvzjnh
nkpshpkptggnsxp272three
zrv86
35lgqsdfive6
x3npthreethreercmnlphkchmrmcg9seven
5sixninefiveninenkxrvmk
jfjqrvc3
bbqxjhds4
hdkqkq5twodbbrpnbmmj
4twosixcfdcf515two7
mgzljdxqkpzbhfh62threenine74mcvrf
4ninesevenvnblskhgxmhvkhpmxg
fourvktpjlpr5sevencfvthree
9six9vtrkdfjkbb4five7slq1
dhroneight9xthreenjqk
eighttwo1twopxzxghjs9
six35ctcjrmfclone
d1sixmmctvr8
qsgcbzdtworzgzbqtrd7pttltxjsgptwomfmrzns
sevenseven6twocqhvmvgxn9vmlxpfourjvqsnmlbd
7twopc2four
three1nineeightgrnzbpqsvbkpbqzvmqsnm
91fdf985tdjvtwo9
svlfivetwomjhzfourone7
bqpssscxckkljxxtwo8dpcbpqgq
gjhdqvgcfive3five
bpqdnpbf97tgpkkmdg
1lksrsrlqkmzmbfgpcqq
kfftvhrlqpstwoone6fiverklbhqqgdpvmnine
xbtfhfivenine9lpklrnrrbnthreensvgrvdzpfpvzznq1
xkfjtzdqmhnine96sdgfveightttbhfkthree
fourbz2six5
rggoneighttwo19vfdjvjbr86zkqmfclp
3fourx4klhkhglvjszj8
glg2fournine5sixxbjseven
3zdpsone
htxgljmx262five5
3ftshpgpnnhgspltjrvb3cgnghgzpvzlnxvzcjone
threebbnrxczqninetrone7eightseven8
g2seven
threeddtgc8
3fivepcfgpvjzsj471
28zfour7seven
clxslzrrkbbmxbkzfnreightone6twodlztb8g
9eight1
2gvvdgnvnptwohhztfggrndzhplqgx
qspcbvlv48
1eight1sevenrlhdnhs
fivetpnnlnp317seven
n4onetwoninexnvstftnchzfxzrqts
2lthreeseven
two3twoseveneightffournbrhmseven
seven6fsxnfqmlg75bznfkjbch81eight
4dgszfourggjmjjjrr5xmddgsgp
b5283sbqdn36qcrxnphkg
9lmklvnvczeight
cgm2vsrmjtzmbh
7lhqhfm5sevenlg
69cmcnbqseven6bnztjrpfvx
eight84nine8
92xcmffvvbr
fivefivetwotwoglzqftlfpnine2
gtffdsrzmmnine6fourtwo
cjnxbkvxq7onexjjhds
onenine9lgkp4bxztcseven
bthree4
bqq4dbjbkftfx2cxdrdgjsixxqlcgztnv
twovtxqhsgx72jtgfqzfqnine4
87gjbghccqrsqxbflkhk2fivelmkmjzmfzxbcmjtb
seven7six83vdxxrfbfkfg
sevendnjssc7threecrccqlsf5xtgmqk
sjphck271threekvldbgnvtcxlcdkf
sevennpfbbsb3kgpdm
ngmhtfnkjl5fourfivegnpb
xthdbtwofcgdrrjmfive1five
89hgld6sevensevenfour6
36kgtmxxx1fivenineseven
eightdklr6
23zkrplrpmlpclqjkrsrxcbjone9ffjrqvsix
5njvthreeftxjninefnlcq
1qb
three5258kpcrl
szggtxbvql443
3threemvbzslgqdninesevenxzgbfkcg64
6fivefmhtdcbpx
five4fivesix
9ninebrdczqjpnine
q33ninesix6threepbqjnjdb
onelvhdtljltmjgdsnine1eight7
one2seventwo
4jnfchm5jtqgbmnctrsix
5six3
eight9hklfhjnine2onerl6
2nzncz9fourdcqmmcfgbgsqchvnrdnrcthree
2337
tvqqfkxcg81eightfivedxmb
mxkcbqkptqbgqvgjxbrbnine3dtzhkmeightsixdxdhbpxd
two9szthjhjmcfseven4
rkcsnrl2btjgvbmlnine1jdjczcskjg622
six75three9
5threethreetwo8
1eightngz
seven3sixn2
three7pdfjtzfv5threesxpgrbkmx2khxcsbdblh
onezzrzpbvsmflzrlfmv4h46five5
6jdv
smseven3eightfivegzlkm3
nine7eight5
sixthreeone54four
7mrxpdc6xvkhcmtwo4
3crrcmxzqzfchtnvnh
nhxtwoseven84
9sixvltbsix
6ctsnvvgm9sixpjhmtskzggtgsevenseven
ninehfqcvgkgqf167one1sixeightwocf
dtsg38sixtwonephq
rpfbnzn2vhjxeightqdfbqmpgpdqn
cncdqcbgzt8
xbhqsrfp6357ftq7
1rnnz277
8threeonejvkfldcrnxjflltr9
l8sevenseven8qmm5plczqnkrhvkppb
one7qjgnslmrdnbsone451xffltxrvdk
hmcmtzcl59
8qqffcfhj59
rzlkxvgckrfvnone2rjtwo
two9ninesevennine37
2x5
4cjkghzhtfrdhhcrjvt2
cpbhsgbzt8nzcjqnine5cntrngcqj
9three4sixeightcxmvmgglf
31dptlfdphx7three
fiveonethreesixppgpbzr8jlrpzhr
731bdfdvtpqb3pcbrsxvtxbtgphzdbsixfive
1gxmppthreetwo1xrslpjqq
2three3four4
pbdlpv56eight52
qmspclflmrckcbbqxnthreeone7dczkjhxnvjtkx
78dslfsggrkp
vntwonesixfourvsmmmgpghm3
three981flhdlvkseventwo
fqv9twopvk
pthpkvdqcn1
qtz763six8eightzxbcp
67vtscljxslhfpt8
2mqfhbpn
1jtdcgrlrpdmjbmlptgdzjfgqb
1twoeight6znzgxf8one
9gngqbsprhmhpsgzps
gjqsfhfivenine4pfhxthtjthgsm38
five1twofiveninetwofive2jrtzvtf
ninethreetbmcb2nine
96fztmrseveneightbhfpqjbsixvhjfvzzjdc
8threenineonejhhcmnnrzsnbzcstzqtfsthree
9onesixdttqqjvfour8
sixtcfdhjlddncmskrfoursix72
868fivevsstbpxtwo
four2onesix
four4ktnggkpfvtwozqqpsckb7
eightfour4threeninesixnbtzsevenjxpsn
sixfcmnbdflf7four7
mqvjfdhhbqkpkdx5sevenhrhkphqrsix
cb3bngnjgmjng
6jfive
roneightseven27fivetwofourfourbzshqvxdc
ltwone4zpvhninenm1eightktmkbpvlkkhzhvfc
84dslslds
bphdhtwo2ckktccnrqjptwo
six27glzs
threedxsdjsgmlvrtnmzjbvt71kdfiverpddfrczjhs
ddqlb4mtpfthreerkztrmxvbhhnjqmmdxdmlffcrhoneightfcg
qr1
56threenine6hgvtwotwofnjbppqppb
vb2fourninethree4knvzpjcj
threetlsevenfourgcjmzprone5three
5fourrrqhbrbq7three41
five8qpxdsdpxeightphjvbmtp
9one522
f3pklscq
4sjfiveht3xknmkndsgfjvl1zqdt
three4vjjg691
99grcttgddb
7pgh8sixsm5five
one185kjbftmplhqdkfvrh
4kzrchdkv2tgbrkghhnine6
sccnhhmmfournvbbvrlpfsevenfivefive8
frrrdkzvfg7blgqj7threecqhvvgfd
fivehsfkmbvxddkfrrngfivefive4four6
9onetwozcgntxrdzeight4zpnqkxsfpcggtrjjk4
5jbmn4nbzbmmkbvxstchl
fivenine4vvtfhrhbdeight4294
onefour749oneghm
one97czzjrrddjsb1nine
nine4sixsix
4eightthree3three
45rxpndjsmq6fourqpmk
seven93
5173five7kvgqpttwonemh
ninefive2n1eight
452zdvjfczspmcknblsmzznvrlhkmn
47onexntj2sixsixthree
nine9threesixfsmnfour51six
pgtfttdkjmz47
5threeone9gr2vjjcrbslcp
jsfour7fnmqgsxlnine2gsmmkgvj5gbvx
bktwonngqchlqghpnmlzxnthkpjgcjsr98eight
tczsjfcxfgjzbxeightnine5twoone
48
99flzfrrjdp69zxjdphrbbsixthreetpzn
five82fourxczgknkgk
six7fourbeight
oneeight4kxsdrpsix169dh
mnine9
npxvqkbpdtddhlggthreempqqblzfmmvc1mknf
56v9two24zdscdf
tmcbxhvhptvtwosdhltwo4mvjphvjjrsglrxbjrthree
threefive3skzsspkfqp61
three5three315xgjgphdr
8jvqvpspkqgbl
1vpkglvlxs2sixgc6eight3
hzshxqgxzttwovkfive3fgmctvvdfsbjhdt
prsqrjcrrj9nxgq2
dfsfxtdj19lqlblbmb1
ltlmvf81xsztgzpljcxx8
lrqxphqhthreetwolqjsixtwo81
nstpljlpt1sixnineone91
one4xcrhhdhsvveightfive
rfmdkpmbrhrnzqtqnrvdv4two5
ndf8mccqlzqrjjcpzzpbjrmclpkvkkltvgfsfour
two8three11eightwom
five5xpzcmtxnqj
7238fouronerxjvqtmhtljcnine
zdfmfkfbkb2seven
3fbkzxmz
21one699eightcqfs1
68vpgggr
97s9eight7
pkxvtvgtrdsqkgclnkxhjr3threelr
954lcthpqcscz
twothreevshxfjvnq6
rsnkplhfive3pmpkknnvbf6bvxqhbjhc
hhxhhpnrsevensztgxnqhmzcsnsxgblc7754
grjdsxzhjldjckhbxbrqlbbjhntjjv79
five7sevenfive
ghljgxzbfourcvqqnnine1rrmftfr
koneightbfxgjjzkkgsqzhhdctg4
cgtxldhfourtwoseven9zlhgrchhvfhrgmqdgnine
51twothree6x
sevenrfseven1sqmhzrg
bpnmzncsix3one6gzpzfsrfbp36
stjgqone46seven
gzrnkk7ninefour
fivefgnfkn4tzjxtjlrfive1
bdpgnthrf83nffzpeightmj
twotwovzbvbrsgseventhree15
7ninexqjggfvqndsdcg2
three8fivehpfxncpxv4three
twofive6rctmlhrxxlthreerrrvstvvqx
rgfdddkmvkfvjspmzzp6hxprqlvseven
threexhqqhone3six67l
eightseven56krtbthree
seven99
6j1czlmxsmqgzvrcjjscnineseven
ffnrkvchddftmhklsbxfourxmqnrnlrvvsevenone93
jlnzkqfvnsix8four74eightone
56eight1sqthzbsfpsevenhdlqkkqjqnqtbseven
dfsxgdsfnrktlhllrxqp5onevmfklvgxqhmlhgqhd8
cvtdzcsfive6rhggdz1tfzkffglck593
ninet715two1
gknjznhzvjrmqtkdbb5
xnrvvntwo22
9nlpcldct8nine5eightkjzmqskpnb
eightsix7ninetwopjslsgvbseven1
p2dcg49one
xcdthreessvvzts67bkqchqgqcf
31ncbk97
kxftjfivegmkcfqbvsl8threeqnrnrsixbdqzl
91fourpqfghjncnine8bfxqxdjckfckdzgsl
2vhrdjpcdlg
mrcjfivetwo6threenine
2ljldxrdg94four
gnoneghkgtt256
mxplnslnrsxpzlgx3nineonefive
63mzsvmsix
6fourninejpsfnineseven
fourninefive3threethreecmbseven
761zzctnddfour2one
dzonesixseven1two
fiver31oneeighteightwov
3kpbcxsthreeone5
nineonektx48drsgpktpns255
qfqtwone7nine374
xnsevenm9
seven8fourdptllvrggqzcnqfourtrbslxxgrrgj
onesix1sixngvmpbjctrkztfour1one
sjmxkkvddt89jlgfvhnlhlzzhdvp
jbk6
six4hkfbxrbg1ff7six
3six6fourthree6two
5sevensixonefour26
pgnzkprhj1rxsqftblftjgngthqdgmbdfmcpxxtsj8seven
17nine2kcnqv
ckzfgltmnqnkgzkxdfmncp8nine8
ccfourgfpdfrgmvdbvdvpd3
9bgqggggrbggmdrjkfivesvknmpthree
82sqghgstwoeightt
nk1slsckcn87cfsbggnsfnps67
1onethreefxdcqfourtpzqtwosix
pfivek4
99vnxnscjpeight4dthlk5eightwovl
rmtwonehkt6lczt8vfxmkzkxsb2five
one89bchlvvhtjz3zbspjtmkqkfourpznpfeight
foursqmchjpccone7ninenine2
1dvsgvone236six
six63three9
bvvgtrmmxs5scdzvcpseven7gdnxvczneight5oneightzbr
cv18cvdgxmrjsgnztgjrb4threefive9
ninesixsevennseventhree73
44dxhfgjt2gntv95
rbbhmmqbrc9twofour
4bqfivefiverdp658four
hpsslx88four
one8hmjrstmmeighttwodrmpm7five9
4ninen
9seven9fd442
3vqdtnhqg
hldgmmnfmzeighteightseven48
8msmbtzlvsf1ph4lkqddcbhcnp
jnkxqmghbpjslmgsbvlhtrr1njgrx2twozfk5
fxchjbvgl8mdhtckn8seven
rllvfrffhf13sevenc98
vgbprsjllsrhkltdrcknmfk1rpeightjpkxvjsrm
six81hgfzghnn8fivenseven
ninesrqjnt9onetwoeight63j
pbrrb9fqjhhfhfh9twokhhdsghvjkvkpj
1nineztppgztbdxvrgqvs46
jbqrdsqtfninefxtg1nzmdcqvg
41ninefiveninefiveone96
mmsfsjeightthreeqgbfbnvgnv5four4threepggz
6threehqq5four
mpthqgsix86two
5onesevenfive61
8ninetwoeightj31
7fivekxzhlxdsevenzn
sevenshxtsixzdfjvpcsc5jvjhgzbssbrqtwonemx
phls1
148nxbhkjr
2l8threeqfpddrjxrzlqldtqjseventwo
k7one
92sixtwotwoglmnxdnxz
9six4xdh
9five9nine
k21xc
sixonegsbffgtsevenzjbrone4chq
eightfive67fiveseven3four9
8lxzjjjshhgpvkmzcjjljr1fiveltt1
nine24eightts5xnfgtlpng5rkq
lhtwone1six8156zttxfdn5
69sevenmbkjdjbl
hnm8fivetwo
6threezc
lhmtbt7ltb6
six1eight4crjfmmxonenine
fhrvhfkp4xjstfour
kxeightwoseventlrvhfrkhrhfive34twos
sfvdlttlrfourthreevzksseven736
7crlzrzone8
fjsfpfivejxvqnq16threesixqxdmjz6
fkrjfjkgbjnine63fxfkfvphbjngnfqbhb2seventlbbr
596
dgfrd288six
783nine
two8fivefpkjllbnqgqlkqms7mmhbsrnhsxnbmjv
seven79one9
fourmrxqtmg21lnztkhx
3one728sixfive
fourconemgdcch8three
bfsfktfbvqfiveonecljcbqfnine2five
5eight2sevenzxpsk
6twotrvkhqrsppcxhjvjlkhcjrqpqvqxrmxqt
77kxkrpzr
grlrh36sevenone49
9fiveeight8
five4jbspqscf
4zzzjxghvcj
6xhrgnhxzx16xrknine
84nqhnxcdldthreeseventwodnbpszp
twoseven3xzpxpgjvbgldlqsgf
ncsfckp5cgv4jrbkf
9eightsixtcdkzlbl
sjfxx4
onebshtqkhslhfvhgqtvsnhqfhone4
fgggsixtwo4pl5
nvrr2twohknrgcxtpltwosgfbnlszeight
five1bzfdfsrz
4xvtwo2
five2eighth4
2jlnlmbqccrgkmjqninethreethreenine4
gtxxdnxqzlfive5seven
fivegjkqh46eight
33z
48sixscgcghlqjheight
vkfzkkxxnj17fivedt
onejlhdglpkjsixtwo24
4bssmdxpone1bnxjtwo
pbsixsfxddk3fivefive43eight
fivemnmqbzonetdgvmsone48
dbjeightwo9nine9
eight123kkptmzpqjj1
15krrcpgqshrhxrxpgone8kbkvgjlghc
45eight323hvnbtbqqtwoeight
veightwo2dsqjg
three77q6
1hshtr1vsbhfctfpdl1threem
nineninethreevvgbclnkcmzhctgjtwoseven4
seven3foursix4four
fhvm96bbxrmtcgcthree4rthree7
65crr
7ljvcqtceightbnkpbxqgfvfzxmfmctdjctgcc
llj659nine5rl
two8fivep3ddmpdhngm8cf
hljxhkvbk4five5k
threeninefive9
jncnpkxjvst2eightrjltjc
4psqtnkxrc
eightqtscplvmkbrlnine449nbnxtkz7
sixnvkbxlxninevhtdvf77zrnjzxfbdlsix1
eight2mznnrmhnmclxdcdzjsfourtxvgmdzvk
fkghbffpnmqblcrfivethreethree195
pxgpcrmpone1one
5pfkktxpfjgsixp5lbhrvv373
six8seven2fseven6
eight9crdxxxgpbprtdxpfsgglkst1
8zbmntvnpfoureightxz7four
3599lx5
seven9six4fdqr3vgq8
fiveone2twosevenfive
twotwo35sixczdx
two62964mdhbqhrfkf
phtrfmmkzonedcsnqdvrghvvf36thqdxfrh
dxnqsdhfivefour2385threeone
7onetwo
pfzrvpphj7phnzqmkbbbfvstwosevensix
69foursixonefive2
jszkfs9hkcsnxtzfs3
gqb1gzbglssfxqjvffivexlphdd7
2one777
qcczbcm4sevenseven
4threevxhtx
tdxxf8
jlxc5fivesixeight
sbszlkpjgfivevtsjscqdpv5eight56
bbpxxtwo798
fiveztdspgfive97zfmrvnxeighttwosix
51threetwovrbv5
fourfhxzgvbgdceightqnqrvmb7
11ngqhghdsevensthhs9
sevensevenrqmpsf4hnpqxmgbhskllksnkfourfour7
vheightwo5twothreehbzcrs
2fournpvcpksffj1
mxmldpfsevenpfcvhff9twonineeight
9pcqfrtkrtwo
hxxzppmlfive6cktznkfgmnctjfjpxvgdfszk7ptwo
vjjhjlqsvknineggvjdnnpltzrrqz7
9xdjlnqc
seven1lmdffjjqgxone
fiveseven9
5931zmck
twofourvzrdjmhbnl9onedrtcnl
4trmsevenhbsone
87pzvbcrdvzg3vfszszfds13
5three38gccjdm6six
xcszzrlpltbxs48mcs
ksjzvcgptnq3bfhrfx
twoninethreekhvndq8jfkrfpzsr71six
nine8zmnsdzxqhf4nine6nine
bsdvvggfrjvbvqrtjzbkzmcp64fourthree
nceighteightggrtjsblxdhpxsix7
ninebv8
136tjpsfdgnine
9q
seven1two
mtmzmplcnrfive3rtmhcxcxpsixeight2eight2
qclnh4
5d
tmvbmvh176jngdjlhszlfcbzv
two77jzfncqnm
onexdcrstcqlsixnmtxndzksfsvrxccmjj45
threeone58rzpfivenine
118zgl48
tfhdfive1gzz59bkztx
r3three4fourgzlgljdrmnmnjntssbpvkpmfdsjlbl
24hz
four8sixone6
nineqfggh3svpvlfzpfxoneeight6twohzb
941
onefivejnbgncqfzcsixdqd8rxjd2
9fivesixfivefivesix647
noneight25fhqrvv
eightninephmksl9dvhvcbvdldthree
threegr8
6fzqndfour5nine
4bl2zhcnpqvxthreemkjfqmdctsqzbkllfgvsmtt
9three13
hvbftpsbprhzx5
one7threer57
psdkpvjkzrs3sixfive
ngsqbpfbt34
gbdh7threexnszmtwo
64cmmt9sevenh8qdgmcpplgsj
fivervlsbzjsfiveqbmlrvlzqn8twoeight1vxzkjf
bznrgbrmnzvhp1twosix
97gldxj
fsjbjcklxp9nine2
hpgm7three
ljxcrlfive9bf
four894zmzmllzgkv
fivetmbkmmrjg9seven1tsix1
88sixgprtzhfzsncm4
dbdqkgtdxdjxhk3lsqvsmmtonexstlrplstvqvvmthree
sixfbvmqxbhbgfbl3
jkdshphdg1
sevenrkrvtwofivenine4fourcmjmmdvzvh
553
cqthreeone2ppfflh3fiveseven
5fivekxfzpzjsd42sevenzgfourtwo
55fivekrtckjphnlplbcbxbzf
1pgsfgdf755
5dncccmkpqtwocmmlltvbg
two23eight9lnjk
1148pdtcl1eight5oneights
4ltrvvtxfhcp8eight4dpfhmqeight
44xtvnlrcpb
9knzcfpkv2hqntgqkfgtsix1eight8
rlgmxxmpsk9
1one9
1six9fsvbrrgxqpsevensbnzshmb9
ftgbfqrzslqrcmmeightnjjrrkvhntcv1djmbqztrkvlqfkshoneightggd
one5twofqqgcdvzkllqgxhjpmkhsjpthree
sevenxtmq34two9gnvrvxfjmgq
nineeight6mkvbfour6four
6dcrpx8sixseven2bbszpncx3
6keighteightfive6six13
sixfive69sevenschkmdrvs
dzdgsmgcmkthxddd1921two7
fivenine9eighttworlrccrjzseven3
3onefoursix
6jzqksxpk
qfjhv1
sevennssgfpzt2bcxldkphfour1sixnine5
sx1zhzzpzonevrllpblsfnxzknmpconefktdt
mdvqxbgjhzprrhvqhdt6kfq
sclszppxlpzvzpscvqc791twochlgnsf4
krtjqmseven6tbllzgjcghsix1
114
75kp
rbrftcblxcknine4eight
ffmsgbqf33jcjktprgmczzkd6
v9zjhcvjjkr716
three49oneightf
ninesix2twobvdrbsvjrmvhsdhncsqhcfour
5thmkvcrfsix87hjhgbrxxfgseven
five8fourone24fqjknjq
xfmeight8
7onenine
fivesixfive2six9hn
7six441
1gjkphqtwo
fourhzgxqtxggfpprrmtfqsdhc2fdxnjdgx64five
threeninejdzzrbpmfhjcqdsix8two2bb
7877pzrbtcsddmrffzdsmqlqkjsix
5four3eight
15nine1"

# ╔═╡ 4b294a5c-9ca1-4dff-81da-538d21521a7b
input_1_text_rows = collect(String, split(input_1, "\n"))

# ╔═╡ b3c3b814-91e9-11ee-3ac1-3788a1119316
# puzzle 1

# from each row, get 1st and last digit to form a 2-digit number, and then sum all together from the input doc

function puzzle_1_solve(input_rows_array)

	doc_codes = Int[]

		for row in input_rows_array
			
			# get all substrings w/ digits
			row_digits_ss = cumprod(SubString.(row, findall(r"[0-9]+", row)))
	
			# if we got digits in the row
			if !isempty(row_digits_ss)
	
				all_digits = row_digits_ss[end] # get final joined substrings
	
				# extract digits
				first_digit = all_digits[begin]
				last_digit = all_digits[end]
	
				# code in string
				row_code_s = first_digit * last_digit
	
				# parsed code
				row_code_int = parse(Int, row_code_s)
	
				#save what we found
				push!(doc_codes, row_code_int)
					
			end
	
		end

	doc_codes

end

# ╔═╡ 9fa608a6-18a1-430e-8218-5bc2c128e598
pz1_result = puzzle_1_solve(input_1_text_rows)

# ╔═╡ 4ede6c84-3d0a-4301-8d4a-b75ffaf78027
sum(pz1_result)

# ╔═╡ 9022cf17-1f05-4611-afbb-c78fd84fea20
# consider also the digits spelled out as numbers and consider what are the real first/last digits

function replace_spelled_digits(input::String)

# function should be robust to overlapping words - eg. three49oneightf
# reading the word so that we don't replace letters that belong to other digits

	digits_dic = Dict("one" => "1", 
					"two" => "2", 
					"three" => "3", 
					"four" => "4", 
					"five" => "5", 
					"six" => "6", 
					"seven" => "7", 
					"eight" => "8", 
					"nine" => "9")


	chunk_size = 1 
	cursor = 1
	len = length(input)

	_new_string = ""

	# window through the word
	while (cursor + chunk_size-1) <= len

		split_input = input[cursor:end]

		# replace 
		temp_repl = replace(split_input, digits_dic..., count = 1)

		# extract 1st char if digit
		_new_string *= temp_repl[1:1]

		cursor += 1
		
	end

	_new_string

end

# ╔═╡ 1b73da7e-65af-4cc4-b5e3-af1c1eec5371
replace_spelled_digits("three49oneightf")

# ╔═╡ d97e6cbd-a2f0-489a-b9ce-aa3fe11c3d27
function puzzle_2_solve(input_ss_array)

	# prepare input 2
	rows_w_replaced_text = replace_spelled_digits.(input_ss_array)

	# reuse function for exec 1 w/ new input
	puzzle_1_solve(rows_w_replaced_text)

end

# ╔═╡ 6f53abca-2d55-4b0b-99f6-a08bb3906f27
pz2_result = puzzle_2_solve(input_1_text_rows)

# ╔═╡ b905fafb-99e2-4676-8e16-6d767a2d9b3a
sum(pz2_result)

# ╔═╡ ea4d39f5-6b2c-4c9a-ac57-aa101810c5da
md"## #2"

# ╔═╡ fa27692a-3993-4d37-b6fe-2a50ddef39d3
input_p2 = "Game 1: 9 red, 5 blue, 6 green; 6 red, 13 blue; 2 blue, 7 green, 5 red
Game 2: 6 red, 2 green, 2 blue; 12 green, 11 red, 17 blue; 2 blue, 10 red, 11 green; 13 green, 17 red; 15 blue, 20 red, 3 green; 3 blue, 11 red, 1 green
Game 3: 20 green, 1 blue, 7 red; 20 green, 7 blue; 18 red, 8 green, 3 blue; 7 red, 6 blue, 11 green; 11 red, 6 blue, 16 green
Game 4: 6 blue, 6 green; 2 blue, 5 green, 1 red; 9 blue, 1 red, 1 green; 1 red, 6 green, 8 blue; 4 green, 1 red, 1 blue
Game 5: 5 red, 4 blue, 11 green; 10 green, 3 blue, 18 red; 13 red, 13 green, 2 blue
Game 6: 1 blue, 15 green, 7 red; 2 blue, 4 green, 1 red; 1 blue, 13 green, 11 red; 2 blue, 10 red, 9 green
Game 7: 8 green, 1 blue, 1 red; 2 red, 2 green, 3 blue; 2 red, 1 blue
Game 8: 5 green, 9 blue, 2 red; 7 green, 3 red, 1 blue; 7 blue, 2 red, 1 green; 4 blue, 2 red, 14 green; 1 red, 5 blue, 12 green; 7 green, 9 blue, 3 red
Game 9: 11 red, 6 blue; 2 blue, 8 red, 9 green; 8 green, 13 red, 14 blue; 2 blue, 7 red, 9 green
Game 10: 3 red, 3 blue, 4 green; 4 red, 3 green, 2 blue; 13 red, 4 blue, 3 green; 6 blue, 5 green, 8 red; 10 red, 5 blue, 3 green
Game 11: 8 blue, 2 green, 4 red; 2 red, 13 blue, 2 green; 7 red, 3 green, 13 blue; 8 blue, 4 red; 12 blue, 6 red; 18 blue, 3 red, 1 green
Game 12: 15 red, 2 blue; 3 red, 5 green, 1 blue; 2 blue, 3 green, 6 red; 9 red, 4 green, 4 blue; 3 green
Game 13: 3 red, 3 green, 14 blue; 3 red, 14 blue, 1 green; 3 green, 4 blue; 7 blue, 1 red, 4 green
Game 14: 1 green, 2 red, 4 blue; 3 green, 5 blue, 11 red; 12 red, 2 green; 1 blue, 3 green, 4 red
Game 15: 1 red, 3 green, 4 blue; 2 red, 3 green, 2 blue; 10 green, 3 red, 3 blue; 5 red, 11 green, 3 blue
Game 16: 5 red, 12 blue, 12 green; 8 red, 5 blue; 11 green, 5 blue, 12 red; 4 green, 10 blue, 1 red; 1 blue
Game 17: 18 green, 15 red, 5 blue; 5 blue, 4 green, 14 red; 4 red, 7 blue, 9 green
Game 18: 2 red, 12 blue, 2 green; 15 blue, 4 red; 14 red; 11 red, 5 green, 5 blue
Game 19: 4 red, 2 blue, 4 green; 5 red; 7 green, 1 blue; 1 green, 4 red, 2 blue
Game 20: 5 green, 1 blue; 3 blue, 9 green; 14 blue, 7 green; 7 green, 1 red, 1 blue; 7 green, 2 blue
Game 21: 6 blue, 3 green, 8 red; 9 red, 1 green, 1 blue; 4 green, 7 red; 1 blue, 1 green, 12 red; 4 green, 9 red, 5 blue
Game 22: 1 red, 3 blue, 2 green; 12 green, 5 blue, 1 red; 1 green, 3 blue, 3 red; 1 red, 8 green, 2 blue
Game 23: 2 blue, 9 red, 14 green; 7 blue, 10 red; 7 blue, 7 green, 1 red
Game 24: 19 red, 3 green; 7 blue, 4 green, 12 red; 14 red, 3 green, 1 blue; 3 green, 14 red; 5 green, 7 blue, 18 red
Game 25: 12 red, 4 green, 3 blue; 3 blue, 12 red, 11 green; 3 red, 11 green, 2 blue
Game 26: 11 green, 2 red; 5 blue, 4 red; 1 green, 6 blue, 3 red; 9 red, 7 blue; 1 blue, 6 red, 1 green
Game 27: 10 red, 8 blue, 7 green; 6 green, 7 blue; 4 red, 10 green, 9 blue; 9 red, 2 green, 1 blue; 11 blue, 15 red, 9 green
Game 28: 3 blue, 2 red, 8 green; 3 red, 10 green; 11 green, 1 blue; 5 blue, 6 green, 7 red; 3 blue, 2 green
Game 29: 18 red, 1 blue; 3 red, 4 blue, 7 green; 1 blue, 16 green, 2 red; 3 blue, 6 green, 15 red; 1 red, 1 blue; 17 red, 6 green
Game 30: 10 red, 6 blue, 13 green; 2 green, 10 red, 4 blue; 4 red, 2 green, 2 blue
Game 31: 5 red, 13 green, 5 blue; 5 green, 12 blue, 5 red; 5 red, 3 green, 5 blue; 2 green, 3 red, 14 blue
Game 32: 2 blue, 14 red, 13 green; 11 red, 3 green, 1 blue; 9 red, 2 blue, 2 green; 5 blue, 3 red, 2 green; 4 blue, 8 green, 6 red; 12 red, 4 green, 5 blue
Game 33: 1 green, 15 blue; 1 red, 4 blue; 1 red, 1 green, 5 blue
Game 34: 1 green, 2 blue, 3 red; 11 red, 10 blue; 6 blue, 3 red
Game 35: 2 blue, 3 red, 1 green; 1 green, 9 blue, 8 red; 2 blue, 5 red; 2 green, 2 red, 2 blue; 1 red, 10 blue; 5 red, 9 blue
Game 36: 8 green, 1 red, 2 blue; 7 red, 5 green, 9 blue; 1 red, 10 green, 13 blue; 1 red, 10 green
Game 37: 1 green, 1 red; 2 green, 2 red; 2 green, 6 red; 7 red; 1 blue, 2 red
Game 38: 8 red, 7 green, 11 blue; 6 green, 10 blue, 11 red; 13 blue, 18 green, 7 red; 2 red, 7 blue, 12 green
Game 39: 4 blue, 8 red; 1 blue, 11 red, 2 green; 2 green, 3 blue, 12 red; 6 red, 1 green, 9 blue; 6 red, 1 blue, 1 green
Game 40: 2 blue, 17 red, 2 green; 4 red, 7 green; 4 blue, 1 green, 10 red; 6 green, 2 red; 6 red, 1 blue, 4 green; 5 green, 9 red, 4 blue
Game 41: 1 red, 8 blue; 3 green, 5 red, 3 blue; 8 blue, 1 green; 1 red, 9 blue; 5 red, 3 blue; 1 green, 4 red, 3 blue
Game 42: 7 green, 1 red, 10 blue; 11 blue, 1 green; 1 red, 17 blue, 2 green; 1 red, 4 green; 1 green, 3 blue; 11 blue, 1 red
Game 43: 5 green, 1 red; 5 blue, 3 green, 14 red; 7 green, 2 red, 11 blue; 3 red, 10 green, 4 blue; 5 green, 3 blue, 9 red; 8 green, 3 blue, 2 red
Game 44: 10 blue, 1 red, 2 green; 5 blue, 2 green, 2 red; 2 red, 2 green, 5 blue; 7 blue, 14 red, 1 green; 1 red, 2 green, 5 blue
Game 45: 16 green, 11 blue, 7 red; 6 blue, 8 red, 9 green; 7 green, 8 blue, 10 red; 13 red, 15 green, 8 blue; 3 red, 12 green
Game 46: 7 red, 2 green, 4 blue; 3 green, 7 blue; 2 blue, 5 red, 2 green; 3 green, 8 blue, 2 red
Game 47: 6 blue, 5 red; 5 red, 4 green, 5 blue; 4 green, 8 red; 5 red, 4 blue, 4 green; 5 blue, 5 green, 3 red; 5 blue, 2 green, 3 red
Game 48: 11 blue, 7 green, 2 red; 3 red, 8 green, 1 blue; 3 red
Game 49: 8 blue, 1 green, 3 red; 2 blue, 4 red; 6 red, 1 green; 2 red, 10 blue, 10 green
Game 50: 1 red, 8 green; 1 blue, 2 red, 8 green; 7 red, 1 blue; 7 red, 1 blue, 5 green; 6 green, 3 red
Game 51: 10 blue, 6 red; 10 red; 12 red, 5 blue; 11 red, 3 green, 3 blue
Game 52: 11 green, 7 red, 3 blue; 1 red, 9 blue, 8 green; 16 green, 2 blue, 8 red; 8 blue, 6 green; 3 blue, 5 red, 10 green; 8 red, 9 blue, 12 green
Game 53: 1 green, 4 blue, 11 red; 1 green, 12 red, 6 blue; 1 green, 5 red, 12 blue; 5 red, 11 blue; 1 blue, 11 red; 8 blue, 4 red, 1 green
Game 54: 3 blue, 2 green, 8 red; 2 blue, 5 red; 3 blue, 2 red, 2 green; 1 red, 9 blue; 5 red
Game 55: 1 green, 11 blue, 5 red; 16 blue, 11 green, 8 red; 16 blue, 2 red, 13 green
Game 56: 8 green, 6 blue, 6 red; 10 blue, 6 red, 9 green; 3 green, 13 blue, 6 red; 4 green, 5 blue, 3 red
Game 57: 6 green, 6 blue; 1 green, 1 red; 14 green, 1 blue
Game 58: 1 blue; 1 red; 1 red, 3 green, 1 blue; 1 red
Game 59: 5 green, 10 red; 1 green, 2 blue, 6 red; 8 red, 3 green, 2 blue; 4 green, 1 blue
Game 60: 2 red, 8 green; 1 blue, 3 green, 1 red; 2 green, 1 blue, 5 red; 1 red, 13 green, 1 blue; 4 red, 6 green, 1 blue
Game 61: 2 red, 2 green; 15 red, 1 green, 3 blue; 20 red; 7 red, 2 blue; 8 red, 5 blue, 1 green
Game 62: 4 green, 12 red, 14 blue; 11 red, 3 blue, 13 green; 6 green, 16 blue, 7 red; 7 red, 10 blue, 11 green
Game 63: 2 green, 8 red, 3 blue; 1 red; 2 blue, 8 red; 5 blue, 2 red; 1 green, 5 blue, 10 red; 1 green, 3 blue, 11 red
Game 64: 12 blue, 2 red, 4 green; 4 green, 3 red, 5 blue; 9 blue, 1 red, 4 green; 7 green, 7 blue, 1 red; 1 red, 10 blue, 2 green
Game 65: 4 blue, 2 green, 1 red; 1 blue, 4 red, 3 green; 5 green, 3 red; 1 red, 2 green, 15 blue; 3 blue, 3 red
Game 66: 1 red, 7 blue, 1 green; 3 red, 1 green, 1 blue; 1 green, 9 red, 2 blue; 2 green, 2 blue; 5 red, 3 green, 3 blue; 1 blue, 5 red
Game 67: 6 green; 17 green, 5 blue; 3 blue, 3 red, 9 green; 2 green, 4 blue; 1 red, 15 green
Game 68: 1 blue, 11 red, 8 green; 17 green, 3 blue, 8 red; 5 green, 8 red; 18 green, 7 red, 2 blue; 6 green
Game 69: 12 green, 13 blue, 2 red; 4 red, 14 green, 1 blue; 11 red, 15 green, 5 blue; 15 green, 9 red; 4 blue, 1 red, 5 green; 10 red, 20 green, 13 blue
Game 70: 6 red, 8 green, 7 blue; 5 blue, 1 red, 17 green; 2 red, 3 blue, 6 green; 7 blue, 1 red, 14 green; 7 red, 6 blue, 16 green
Game 71: 3 green, 3 blue, 3 red; 1 blue, 11 red, 2 green; 1 blue, 11 red
Game 72: 9 red, 17 blue, 1 green; 20 red, 3 green, 2 blue; 14 blue, 4 green, 11 red; 2 red, 12 blue, 7 green; 18 red, 13 blue, 7 green
Game 73: 6 green, 12 blue, 1 red; 10 blue, 5 red; 6 green, 17 blue, 3 red
Game 74: 1 green, 2 blue, 13 red; 2 blue, 2 green, 1 red; 2 green, 1 blue, 7 red; 1 red, 1 green
Game 75: 10 red, 2 green; 3 blue, 4 green; 9 red, 1 green
Game 76: 1 red, 3 green, 1 blue; 3 blue, 4 green, 6 red; 9 blue, 12 green, 2 red; 5 green, 1 red, 1 blue
Game 77: 3 blue, 4 red, 11 green; 8 green, 5 red; 7 blue, 11 green; 1 green, 3 blue, 6 red
Game 78: 15 blue, 5 green; 7 green, 9 blue; 7 green, 3 red, 2 blue
Game 79: 9 green, 6 red, 4 blue; 4 blue, 2 red, 14 green; 17 green, 2 blue, 4 red; 1 red, 2 green; 3 red, 3 green, 2 blue
Game 80: 1 green; 15 green, 1 red; 1 blue, 20 green, 1 red; 3 red, 15 green, 1 blue; 4 red, 3 green; 2 red, 18 green
Game 81: 4 blue, 1 green, 13 red; 13 blue, 19 red; 4 red, 13 blue; 8 blue, 10 red; 13 blue, 5 red; 1 green, 7 blue, 12 red
Game 82: 5 red, 3 blue; 4 red, 3 green, 9 blue; 19 blue, 1 green, 5 red; 5 green, 3 red, 10 blue
Game 83: 9 red, 3 blue, 5 green; 1 blue, 1 green, 11 red; 2 blue, 6 green, 18 red
Game 84: 2 green; 6 green, 5 red; 3 green, 1 red, 1 blue
Game 85: 2 blue, 6 red; 9 green, 5 red, 15 blue; 7 green, 10 red, 2 blue; 10 red, 6 blue, 2 green; 8 green, 5 red, 12 blue; 6 green, 5 blue, 6 red
Game 86: 2 blue, 12 red, 3 green; 3 red, 2 blue; 1 green, 2 blue, 2 red; 7 blue, 3 red, 1 green; 1 green, 2 blue, 5 red; 3 green, 14 red, 4 blue
Game 87: 3 blue, 1 green; 3 red, 2 blue, 1 green; 1 red, 3 blue; 10 red, 3 green; 5 red, 2 blue
Game 88: 3 blue, 9 red, 9 green; 9 blue, 11 red; 2 green, 11 blue; 2 blue, 14 red, 1 green; 7 green, 11 blue, 8 red; 9 red, 8 green, 3 blue
Game 89: 3 red, 1 blue, 16 green; 5 blue, 4 red, 3 green; 3 blue, 5 red, 5 green; 5 green, 8 blue, 2 red; 4 green, 2 red, 1 blue; 4 red, 1 green, 6 blue
Game 90: 7 green, 8 red; 1 blue, 7 green, 5 red; 4 green, 6 red
Game 91: 3 green, 6 red, 4 blue; 2 green, 9 red, 10 blue; 3 green, 12 blue; 1 red, 4 blue
Game 92: 12 green, 8 blue, 16 red; 6 red, 14 green, 4 blue; 3 green, 3 red, 10 blue; 9 blue, 6 red, 15 green; 14 green, 9 blue, 10 red
Game 93: 4 blue, 4 red, 9 green; 2 blue, 2 green, 6 red; 1 blue, 7 red; 7 blue, 17 red; 2 blue, 13 red, 10 green
Game 94: 4 green, 10 red; 9 red; 1 green, 3 blue, 14 red
Game 95: 9 green, 5 red; 3 blue, 11 red, 6 green; 4 red, 1 green; 13 green, 3 blue, 5 red; 1 red, 6 blue, 12 green; 7 red, 7 green
Game 96: 6 blue; 5 green, 2 blue, 2 red; 14 blue, 3 green
Game 97: 1 blue, 2 green, 5 red; 2 green, 8 blue, 9 red; 1 green, 8 blue, 6 red; 1 blue, 17 red; 2 green, 10 blue, 11 red
Game 98: 3 red, 12 blue, 2 green; 3 green, 4 blue, 4 red; 1 red, 11 blue, 2 green; 1 blue, 3 red
Game 99: 2 green, 9 red; 8 red, 4 green, 9 blue; 8 blue, 13 red; 10 green, 8 blue, 6 red; 11 green, 2 red, 13 blue
Game 100: 5 blue, 2 green, 7 red; 14 red, 15 green, 1 blue; 3 blue, 3 red; 8 green, 10 red, 6 blue; 6 blue, 4 red, 8 green"

# ╔═╡ 068e4434-3318-41a7-9f64-4e4f2ab7268d
# find which games (random draws) are possible given the number of cubes, and sum the numbers of the possible games

# ╔═╡ 690360bf-7a70-448e-8496-2e1302dd5152
function prep_input_2(input)
# go from text to dic
	
	games_rows = collect(String, split(input, "\n"))

	_dict = Dict()

	# parse every row (game)
	for row in games_rows

		game_details = split(row[6:end],":") # game_id | details
		
		game_key = parse(Int, game_details[1]) # id used as key

		setindex!(_dict, Dict(), game_key) # create empty game data

		sets = collect(String, split(game_details[2],";")) # get sets from details

		# handle set data for each game
		for (set_no, s) in enumerate(sets) # get draw results for each set
			
			draws_in_set = split(s, ",")

			_set_template = Dict("red" => 0, "green" => 0, "blue" => 0)

			# prep SET dictionary
			setindex!(_dict[game_key], _set_template, set_no) 

			# handle draw data within each set (# blue/red/green)
			for (draw_no, d) in enumerate(draws_in_set)

				# extract draw data
				c_count = parse(Int, SubString(d, findfirst(r"[0-9]+", d)))
				c_color = SubString(d, findfirst(r"[a-z]+", d))

				# save draw data
				setindex!(_dict[game_key][set_no], c_count, c_color)

			end
		end
		
	end


	_dict

end

# ╔═╡ c9a470b7-1ecf-44b0-8e4e-db638ddfab83
p2_dict = prep_input_2(input_p2)

# ╔═╡ 9d760986-682c-4db1-bb70-132510469525
function check_possible_games(input)

	n_red_cubes = 12
	n_green_cubes = 13
	n_blue_cubes = 14

	possible_games = Int[]


	for game_id in collect(Int, keys(input))

		sets_in_game = length(input[game_id])
		game_checks = Bool[]
		
		for set_no in 1:sets_in_game

			f_green = input[game_id][set_no]["green"] <= n_green_cubes
			f_red = input[game_id][set_no]["red"] <= n_red_cubes
			f_blue = input[game_id][set_no]["blue"] <= n_blue_cubes

			# keep track of which sets are valid/invalid per game
			if f_green && f_red && f_blue 
				push!(game_checks, true)
			else
				push!(game_checks, false)
			end
			
		end

		# if no limit is ever exceeded for any set in the game, then it's possible
		if count(game_checks) == length(game_checks)
			push!(possible_games, game_id)

		end
		
	end

	sum(possible_games)

end

# ╔═╡ e8ebe8d3-5845-4dbd-b371-a3587a6e5cb2
p2_result = check_possible_games(p2_dict)

# ╔═╡ fa01c074-0828-4a41-86f8-3c1d995f6fb9
function sum_powers_min_games(input::Dict)

	_powers = Int[]

	for game_id in collect(Int, keys(input))

		sets_in_game = length(input[game_id])

		# setting high starting numbers for finding minimum
		min_green = 0
		min_red = 0
		min_blue = 0
	
		for set_no in 1:sets_in_game

			# retrieve values per set
			green = input[game_id][set_no]["green"]
			red = input[game_id][set_no]["red"]
			blue = input[game_id][set_no]["blue"]

			# check against game-wide value so far
			min_green = (green > min_green) ? green : min_green
			min_red = (red > min_red) ? red : min_red
			min_blue = (blue > min_blue) ? blue : min_blue
			
		end

		game_power = min_green * min_red * min_blue

		push!(_powers, game_power)
		
	end

	sum(_powers)

end

# ╔═╡ dcedd804-b8ec-4741-bc07-bd53ed0eabf0
sum_powers_min_games(p2_dict)

# ╔═╡ 2160c6ee-2cc1-4901-8da3-b5a55af294b2
md"## #3"

# ╔═╡ ec139f8b-b971-4264-bb7a-7ec77d27da0a
# add up all the part numbers
# part numbers are the ones that are adjacent to a symbol

# ╔═╡ 43ea3e33-e1c6-42c2-ab8d-18789be67699
in3 ="............................................411.....................363..134.........463.775..........................506...................
......429...836..\$............../..960........*.............+..........*...=....381.....*........67......426.....=..../...304...............
.........*...&...641..........924..*.........855....492..495.......476.927.......*.........680...../.&....*.....713......*..................
.........900......................239.325..............*.............*.....953%.771...........#......808...329..........214........846%.....
.............707...233...................*.....*........774...445.....107.........................................@927......775.............
........721........*...17................790...670.............\$..........893.93&../...129\$.651.696.......131*99.............=......446*781.
...........*717.868...+.............252....................................*......461.........*......................350....................
....911..................*...454.............161.........875........209....695..............926.983.........758.592....*..........\$.562.....
...*............569#..496........888.............227......*..67......*..................877........*...#.......*.......716......975....@....
...730........................\$...#..112............*..509..*.......858..710.......@567..%..610..821...918..................................
.........794.....701@..456-...505.....*............884.....298...............................&...............742=.....95....................
............+........................891.165.......................=.............175...............\$..693.............+...........127.......
....*..........554...855.................*...............505.262.110..764............953@...+.....343.../..............................817..
..449.464.148.........*.............1=.853.......232.356*....../.......&....................217................992..935.527............*....
..........*........931...44.........................................&..........553*..............*....945......\$.......*............655.....
........735..718............16.....650.....944...................525.....*........................491.+...662..................27.......397.
...273........*.........563...+.......*418.%.......-.....#265..........43.92.....791*211..+................*..&...507@....84...*..543.......
..............562...=...........................627....*.....................*............492..*86......456..837............*........*181...
.....829.233.........454..................351.......232..........47........44.401.............8....876...........965*151..284...............
........*....................647..........*.....\$.................#................................*....+788...*.....................-......
...49.....588........174......*....111....604....358......863..61.........................663.......549......442.271&.................493...
...........+..446.......*...638.......*..........................*..881................#.*....*.........................720....168%.........
.....504.........*..43..245........975.................91........28..*.....966......600..18...245.......480............*....................
.......*....+...57..*....................@412......812...*............729......61...................268*.............706...#................
.......307..107......937.108..................453......50......778........&......*440....................4......361.........888.=256........
..........................*..889*....89............675..........%.......29..427...................508..&........&...641..................455
..........897...960......403.....971...*......806.....@.363................*......9+..............*.....464...................586....282*...
.....316...*...............................9...#........./.............317..614........362..905..27................670.............\$........
......*...606....................+...........................-............*........292.*.....@..........%.........=.......164.470.902..549..
..473.603.........733..482*423....276...419...../166.........297........401.......\$....313......306/.353.....................*..........*...
...*....................................%...............291......997.........385..............................617%..470...............618...
....577...*903...%.-343.....790.................143.....*.........*...30........*................/759..\$.....................@..............
...............387.........*.......\$.............*.....210....417.482..........86.....760...............626........503.+990..299..137..-....
....*14....896.....=...922..937...188........553..63....................*150..........*........*...208...............@................338...
.........#....*..774..*.......................*......................987..........737.959......665.#....329...+.../....#.....966............
.......221....8........629...........521.94....706.....356...+............636........................=...*..253.655..505..............613...
............................649............................270....468.......*.....................420...848..................846.....-......
....43..718..678.............=.....*906....593.-26.....268...................810...401......+.........\$.........842.........@..........&....
826*...*......*...430+..572.....436..........*.................954.....732........*.......391..999..348.662......*.....................771..
.....61.....535............*........977.......34....672.......*.........*.........693............*.............=.860.....*790.....611.......
........930.......&................*................=.......596.........590....*................903.....985.639.......984...........@.......
.......*.......691...379.......226..971.....549*............................438.466........./.......307.*.........75......151..594....631...
........761..........*..........................236....................534..........611......835..%...............&.........*.*.........*...
...275.........58.970............660-..605..........689.191...32...+..*....287\$......%...........160........*625..........413......*133.885.
....*..................................*...........*......*.......873........................./.............................................
.....388..518.........313*820...666/.321.520...392..12....455.................165=...+.#....345........557..........293............+........
.............*.........................../......*..................................267..841...........@........49......*762.863...123.......
.............41......301.....247*37..........836........631*32..241&..........999.................+.....476&.....*.896.........*............
.../..................*..................794...........................950...*.....................436.......\$.240.+.........108............
.917....\$..+........72.....&....333.8*2...-.............35...809..416..-...654...750...166.................419.......=................884...
.....442..537...........865..................927*114.\$........*...=...............*....*...725.....................228......385...214*......
..................@.........701.501..204.............320................/.......+..820.514....*.......520...../.............................
................121....\$....*...+......@...725...@.....................305....698..........287..877......*....7................\$.%..........
....920..790........468.......=............*.....584..........-546...............................*.....870............954....811.407........
....*.....*....................405..........724...............................143.................256.......668.............................
..877......381..........=.................................4.........../...........=495......617..................519........................
..................855....59..............\$63..............*............73..773.=...........*.......595.......353*....937.......226..........
.....456.............@............966..........990....282..19.749....=....../..273.......860.......\$...233..........*....+........*.464.....
......*..........*.......206..131.\$...110.861.*........*...........159....................................&............624......566.........
...181...349......198....................*.....484.....989.....181............457...........................................................
........*...............942@..345....................+........................*......142..86..............282...........73..................
.....319..804*656.............*....................330..261......236.......263......*.............158.......*...........*........551..314...
...................343.......957.175=.....492.245*.....*............*306.......745.90.........165*..........910.......818..201..*...........
.............%....-.........................*.....186.188......306........*96..+......................837.......945.........@..129..........
..............742..........+.....619.........889..............#...................465.....542%..44....*.../418...*..........................
..................753-....973....*...\$575.................883...../.....*....242..&.............*....63...........72..........*732....702...
.........640....................724.........63*844...........*...234.690.48....*.....+........612..............*.......483.............\$....
...225.......@......................452..89........435.....754.................886....514...................209.282...*.....................
.....*.....346........................=.*..........................................................357*88............473...........712..+...
...84..&.......%.....616.......605&......380.....773..865.254.433......*...1*..-............33+.............283...................\$......538
........416.....408.......744......................&.....*....*......595........586.....428..........523......*..............901............
.820@.......59*...................%625.....................560..........................*......705....*.....713..../.745........&...........
.......%.......849...\$.......................*...........*.....574.....#526..............304......@..241.........241..../..........975..635.
....754.............269........327\$..906/.133.33........400.....*...-.........540.........................299..................451*.....=...
...........409............589.......................533.........564.211........*.....592.....%..............*...............................
.............*...............*..915......321.........+......................938......#....809............756..396.......980.403..813.725*200
...916=.%223.354...227....488...*...........%.....@.....907.659...192.\$866.......874.............737.........*...............*....*.........
.....................*...........966.257.......515.........*......*..........645....*..169......#.....*792...369......909....36..172.%119...
..779.................669............\$...318......../.309+.....546..........*....817......*........755............634*......................
......441........%..........*40....6.............514.......323............464............501.84........*379....*........+.....339......\$....
............641...735....355........&................14...*...........*.............53.......\$..............386.577....697..............520.
................................................929+....288........408................*..417...192...............................899\$.......
.....871..................736............749*.......................................24......*.*.....\$67...............616.765.........@783..
......*........24........*.....\$.............147...258*605.65*807......253.............450.....912......454.895.............*..#............
...612....957.*........245..790.....................................@.....*............*............@....@...=..91*..554....60.15...........
..........@....229..........................481.......542*650....779................520..........139..................*.....................
....*304.............815....................*...................................16.................................@.772......*506....%.....
.975........+....794.#........773*.......292..........708*......475............-............*100................600........862........439...
.........500......................884...............#.....477...........+...........*894.368.....480..-..552*...............................
.......................912..=............../......227............199..822........478.............*...742.....572.......625..................
.117.........*146..529...*.718.........121..974.....................*....................201.....47........+..............*.500.............
.......296.97......@...345................*......................976.......-..............%................851..........196.*....383....\$...
...182......................39.....#600...973....*606.................950...448...............&.....&9.215...................849........303.
.......824...864*973.....%....................973......................*...........581...772..167.......+.......598.........................
..829+....*..............953.............................764..424......200....788....*....@........169......280....*..........373...711.....
.......147.........348.......#..744.730........355*..............=...............*..183.&...............808..*......147..........-.*........
....*........836...*......807..*....\$...815........235.172/...............640..93........900..............=...291...................249.....
.452.213........*....698......569......%.......................320.......-.........%................................./......................
..........522....406.*............959...........383.......533.......706....47&......33.960......960....&...241.....620.......-764....906#...
..........*..........932............*..594.......*...711.&.....+794....................-..............487...............285.................
..139...737.....*541......658.248.79...........589.....-...460...........................-..145............696.........+......645.....=640..
.....*........24..........*....+......971*.................................397..&86.....95..*.................*..................*..........
...55...75.............258..4.....+.......183..........349.....&...169=....@................207..187.....929..601.746.....\$...269...-.......
........*.......%577.........*543..149.71........337....*.....40.....................434..........%.........+......-.....277......43...638..
...230%..609......................................./.580.......................+.......*....+...........640............................*....
..............269..999................618...636..............311....109...314.586.....162...747..........*........56..967...............291.
...../...........#.=......217............*......................*..*........*......%......................596........%......629..901\$.......
....103...................*....157.......427.................101..686..134.909....550...@.........911........./..579....167.............*...
.............181......-.822.......*................623...................*.............39..644.......*.....841.........&.............562.45.
.....+469...........89.........190...653...939.89..*......................898..............*......660..........272..@........%..614.........
............&.......................*.........*...563....215....................612*882..740.&................*......173...834....\$....182..
......437...856........626..159...266.299...............*.............830\$...................268.......467-.738.............................
.........%............*................\$....@...........891..291................649.................................387...938.850*..........
...............922.610....*....676...........494.161%............%.................*154..741....*............326.....*............88........
....702.................223........+......\$.......................224.......133.............@....648..890....../..540..745*............573..
.........&842....\$..849........513..210.288............35.....758........../........................./................................./....
..............135..+............*...........607.........*........*...............790..#.....552/.............374......*496.....253..........
..........*..............804/.369....419..............22..576.....335..723.686........347..............-327...*....180......................
.......685.829.790@...................*....437............................*....................392.............352...............599........
.......................944..........667....*...321..764@.746.665.......+......890.......104................./..........746..668.-...........
96.+....=.............#.................662....*..........*...@..961...877...*.....942+..*......290...655.303.....467.....*..*........57....
....927.857........+................791........545..67......................152...........345..*.....*...............*...541..846...........
................325....966....480..................@...............462..468.....352.............96.371...............593................220.
........=.970.........*......*..........943.....+......*875..362.%....*....*...-.......................550*25...%191.........462............
.....984...+......&..618.39.493.289..21....*....379.600...........16.642..162....256........................................*....403........
...............168........*........*...*....326...............*...............*...+..............413.*.....+293.769*620....674..............
647.................949..........502...748..............692...208.......271..903..................=..132.........................506\$..832..
..............&.........983....+................503....#.........................*350..239.....................581.......372...........*....
.....45........693.........*...192.....7./......+.............774.............338....................@81...337*...................249..105..
.........................598.......905....899......#..........*......-.............*31..........+......................751#......*..........
...../...............56..............*..............110....594.....517..300.679.150.......64.919......287.........................5...801...
....783....498..321.&...297.514.......8.......+18..........................*...............*....../.....*.....&.............................
..............\$..*......*....-....................*................=...961.....534*791......526....499.648.....349..&.......................
........767......48....40.............524.28...369.417..432.......421..\$...........................................748......40..............
..........%..........+............820....*.................#...................707.....378.........801.................52..*.....102%.......
..............822...364.551/......./.................118&.....922.....785........./.......*610........\$..........%268..=...529..............
........820..*.........................../......753.......................................................499...................435.........
..232......&.676...738....#......839....876.45........866...555...664......+..68.......941.........51*585..............937.......*...917*691
.........@........*.......8...31*...........+.....577*.........*....*...399....*.=....@......./...................................59........
.......740.......781..........................................105.353........791.579...........900.463..............909....................."

# ╔═╡ 989b82d5-1998-4dd3-9f0e-39b07952cf3e
p3_strarray = input_rows = collect(String, split(in3, "\n"))

# ╔═╡ ed02156c-bdaa-4e7f-8805-9bdec890d8b0
p3_string = reduce(*, p3_strarray)

# ╔═╡ fa2cb78a-2a46-4844-8037-c28f9bf575e0
unique_chars = reduce(*, unique(p3_string))

# ╔═╡ ee42669f-262a-4361-a519-aaedaf058fa8
non_symbols = reduce(*, collect([string(i) for i in 0:9]))*"."

# ╔═╡ ddc04f04-04d6-47e1-971e-7c608f864f79
symbols = reduce(*, setdiff(unique_chars, non_symbols))

# ╔═╡ c11803b7-685d-4d45-9a9f-2ef884cdfdc4
# for each string
# locate numbers and log start/end of each
# check surrounding chars
# if they're a simbol, keep the number
# otherwise ditch it

# ╔═╡ 7acbc4e0-7016-4430-97fb-895fb68161ff
function find_bbox_overlap(bb1, bb2, _p_input)

	_bb1_points = []
	_bb2_points = []

	# points in bb1
	for i in bb1[:top]:bb1[:bottom]
		for j in bb1[:left]:bb1[:right]
			
			push!(_bb1_points, (i,j))
		end
	end

	# points in bb2
	for i in bb2[:top]:bb2[:bottom]
		for j in bb2[:left]:bb2[:right]
			
			push!(_bb2_points, (i,j))
		end
	end

	_overlap = intersect(_bb1_points, _bb2_points) 

	_input_values = [_p_input[h][k] for (h,k) in _overlap] # chars for input at h,k

	_flag_found = findfirst(c -> c=='*', _input_values) # integer or nothing
	
	if isnothing(_flag_found)
		return false
	else
		return true
	end
	
end

# ╔═╡ c9d427e8-5fc1-4475-a53c-548a17afc5ac
function p3_solve(input)

	_all_intervals = [] # row, start/end
	_part_numbers = []

	rows_n_total = length(input)
	row_length = length(input[1])

	# extract start/stop ranges that contain digits for each row
	for r in input

		_row_num_intervals = findall(r"[0-9]+", r)
		push!(_all_intervals, _row_num_intervals)
	end

	_possible_gears_det = [] # '*' in bounding box

	# iterate and check around each of those intervals
	for (r_num, r_ints) in enumerate(_all_intervals) # rows
		for int in r_ints # intervals in the row

			_number = parse(Int, SubString(input[r_num], int)) #extract number

			# start/stop of the interval surrounding the number
			int_start = int.start
			int_stop = int.stop

			# define bounding box (locations to check for symbols)
			left_bound = (int_start == 1) ? 1 : int_start-1
			right_bound = (int_stop == row_length) ? row_length : int_stop+1
			top_bound = (r_num == 1) ? 1 : r_num-1
			bottom_bound = (r_num == rows_n_total) ? rows_n_total : r_num+1

			_bbox =  Dict(:left => left_bound, 
						:right => right_bound,
						:top => top_bound,
						:bottom => bottom_bound)
			
			# apply bounding box
			_above_cut = SubString(input[_bbox[:top]], _bbox[:left]:_bbox[:right])
			_mid_cut = SubString(input[r_num], _bbox[:left]:_bbox[:right])
			_bottom_cut = SubString(input[_bbox[:bottom]], _bbox[:left]:_bbox[:right])

			# joined substrings to check
			_to_check = reduce(*, [_above_cut, _mid_cut, _bottom_cut])
			
			# make decision
			_sym_in_bb = intersect(symbols, _to_check)

			if !isempty(_sym_in_bb) # intersection not empty
				push!(_part_numbers, _number)

				if in('*', _sym_in_bb) # spot gear numbers if bb contains '*'
					push!(_possible_gears_det, _number => _bbox)
				end
			end

		end
	end


	# detect which bboxes overlaps for each number
	# when found, compute ratio gear and save it, then remove numbers from list
	# assumes only pairs can be found in input data

	_px_gear_nums = [n for (n,bb) in _possible_gears_det] # numbers
	_px_gear_bboxes = [bb for (n,bb) in _possible_gears_det] # bboxes

	_len_array = length(_px_gear_nums)

	_confirmed_gear_nums = []

	for (i, g_num) in enumerate(_px_gear_nums)
		
		# iterate over all bboxes
		k = i
		while (k < _len_array) # bounds check

			if find_bbox_overlap(_px_gear_bboxes[i], _px_gear_bboxes[k+1], input)
				
				_matching_gear_num = _px_gear_nums[k+1]
				push!(_confirmed_gear_nums, (g_num, _matching_gear_num)) 
				break

			else
				k += 1
			end
		end
	end

	# compute sum of multplied gears

	_sum_gears = 0
	for n in _confirmed_gear_nums #iterating over tuples

		_prod_gears = n[1]*n[2]
		_sum_gears += _prod_gears
	end

	Dict(:sum_part_numbers => sum(_part_numbers),
		 :possible_gears => _possible_gears_det, 
		 :confirmed_gears => _confirmed_gear_nums, 
		 :sum_prod_gears => _sum_gears)

end

# ╔═╡ 36f9b67f-5794-4515-8c53-abf13f550307
p3_result = p3_solve(p3_strarray)

# ╔═╡ 00000000-0000-0000-0000-000000000001
PLUTO_PROJECT_TOML_CONTENTS = """
[deps]
PlutoUI = "7f904dfe-b85e-4ff6-b463-dae2292396a8"

[compat]
PlutoUI = "~0.7.54"
"""

# ╔═╡ 00000000-0000-0000-0000-000000000002
PLUTO_MANIFEST_TOML_CONTENTS = """
# This file is machine-generated - editing it directly is not advised

julia_version = "1.9.4"
manifest_format = "2.0"
project_hash = "3c61004d0ad425a97856dfe604920e9ff261614a"

[[deps.AbstractPlutoDingetjes]]
deps = ["Pkg"]
git-tree-sha1 = "793501dcd3fa7ce8d375a2c878dca2296232686e"
uuid = "6e696c72-6542-2067-7265-42206c756150"
version = "1.2.2"

[[deps.ArgTools]]
uuid = "0dad84c5-d112-42e6-8d28-ef12dabb789f"
version = "1.1.1"

[[deps.Artifacts]]
uuid = "56f22d72-fd6d-98f1-02f0-08ddc0907c33"

[[deps.Base64]]
uuid = "2a0f44e3-6c83-55bd-87e4-b1978d98bd5f"

[[deps.ColorTypes]]
deps = ["FixedPointNumbers", "Random"]
git-tree-sha1 = "eb7f0f8307f71fac7c606984ea5fb2817275d6e4"
uuid = "3da002f7-5984-5a60-b8a6-cbb66c0b333f"
version = "0.11.4"

[[deps.CompilerSupportLibraries_jll]]
deps = ["Artifacts", "Libdl"]
uuid = "e66e0078-7015-5450-92f7-15fbd957f2ae"
version = "1.0.5+0"

[[deps.Dates]]
deps = ["Printf"]
uuid = "ade2ca70-3891-5945-98fb-dc099432e06a"

[[deps.Downloads]]
deps = ["ArgTools", "FileWatching", "LibCURL", "NetworkOptions"]
uuid = "f43a241f-c20a-4ad4-852c-f6b1247861c6"
version = "1.6.0"

[[deps.FileWatching]]
uuid = "7b1f6079-737a-58dc-b8bc-7a2ca5c1b5ee"

[[deps.FixedPointNumbers]]
deps = ["Statistics"]
git-tree-sha1 = "335bfdceacc84c5cdf16aadc768aa5ddfc5383cc"
uuid = "53c48c17-4a7d-5ca2-90c5-79b7896eea93"
version = "0.8.4"

[[deps.Hyperscript]]
deps = ["Test"]
git-tree-sha1 = "8d511d5b81240fc8e6802386302675bdf47737b9"
uuid = "47d2ed2b-36de-50cf-bf87-49c2cf4b8b91"
version = "0.0.4"

[[deps.HypertextLiteral]]
deps = ["Tricks"]
git-tree-sha1 = "7134810b1afce04bbc1045ca1985fbe81ce17653"
uuid = "ac1192a8-f4b3-4bfe-ba22-af5b92cd3ab2"
version = "0.9.5"

[[deps.IOCapture]]
deps = ["Logging", "Random"]
git-tree-sha1 = "d75853a0bdbfb1ac815478bacd89cd27b550ace6"
uuid = "b5f81e59-6552-4d32-b1f0-c071b021bf89"
version = "0.2.3"

[[deps.InteractiveUtils]]
deps = ["Markdown"]
uuid = "b77e0a4c-d291-57a0-90e8-8db25a27a240"

[[deps.JSON]]
deps = ["Dates", "Mmap", "Parsers", "Unicode"]
git-tree-sha1 = "31e996f0a15c7b280ba9f76636b3ff9e2ae58c9a"
uuid = "682c06a0-de6a-54ab-a142-c8b1cf79cde6"
version = "0.21.4"

[[deps.LibCURL]]
deps = ["LibCURL_jll", "MozillaCACerts_jll"]
uuid = "b27032c2-a3e7-50c8-80cd-2d36dbcbfd21"
version = "0.6.4"

[[deps.LibCURL_jll]]
deps = ["Artifacts", "LibSSH2_jll", "Libdl", "MbedTLS_jll", "Zlib_jll", "nghttp2_jll"]
uuid = "deac9b47-8bc7-5906-a0fe-35ac56dc84c0"
version = "8.4.0+0"

[[deps.LibGit2]]
deps = ["Base64", "NetworkOptions", "Printf", "SHA"]
uuid = "76f85450-5226-5b5a-8eaa-529ad045b433"

[[deps.LibSSH2_jll]]
deps = ["Artifacts", "Libdl", "MbedTLS_jll"]
uuid = "29816b5a-b9ab-546f-933c-edad1886dfa8"
version = "1.11.0+1"

[[deps.Libdl]]
uuid = "8f399da3-3557-5675-b5ff-fb832c97cbdb"

[[deps.LinearAlgebra]]
deps = ["Libdl", "OpenBLAS_jll", "libblastrampoline_jll"]
uuid = "37e2e46d-f89d-539d-b4ee-838fcccc9c8e"

[[deps.Logging]]
uuid = "56ddb016-857b-54e1-b83d-db4d58db5568"

[[deps.MIMEs]]
git-tree-sha1 = "65f28ad4b594aebe22157d6fac869786a255b7eb"
uuid = "6c6e2e6c-3030-632d-7369-2d6c69616d65"
version = "0.1.4"

[[deps.Markdown]]
deps = ["Base64"]
uuid = "d6f4376e-aef5-505a-96c1-9c027394607a"

[[deps.MbedTLS_jll]]
deps = ["Artifacts", "Libdl"]
uuid = "c8ffd9c3-330d-5841-b78e-0817d7145fa1"
version = "2.28.2+0"

[[deps.Mmap]]
uuid = "a63ad114-7e13-5084-954f-fe012c677804"

[[deps.MozillaCACerts_jll]]
uuid = "14a3606d-f60d-562e-9121-12d972cd8159"
version = "2022.10.11"

[[deps.NetworkOptions]]
uuid = "ca575930-c2e3-43a9-ace4-1e988b2c1908"
version = "1.2.0"

[[deps.OpenBLAS_jll]]
deps = ["Artifacts", "CompilerSupportLibraries_jll", "Libdl"]
uuid = "4536629a-c528-5b80-bd46-f80d51c5b363"
version = "0.3.21+4"

[[deps.Parsers]]
deps = ["Dates", "PrecompileTools", "UUIDs"]
git-tree-sha1 = "a935806434c9d4c506ba941871b327b96d41f2bf"
uuid = "69de0a69-1ddd-5017-9359-2bf0b02dc9f0"
version = "2.8.0"

[[deps.Pkg]]
deps = ["Artifacts", "Dates", "Downloads", "FileWatching", "LibGit2", "Libdl", "Logging", "Markdown", "Printf", "REPL", "Random", "SHA", "Serialization", "TOML", "Tar", "UUIDs", "p7zip_jll"]
uuid = "44cfe95a-1eb2-52ea-b672-e2afdf69b78f"
version = "1.9.2"

[[deps.PlutoUI]]
deps = ["AbstractPlutoDingetjes", "Base64", "ColorTypes", "Dates", "FixedPointNumbers", "Hyperscript", "HypertextLiteral", "IOCapture", "InteractiveUtils", "JSON", "Logging", "MIMEs", "Markdown", "Random", "Reexport", "URIs", "UUIDs"]
git-tree-sha1 = "bd7c69c7f7173097e7b5e1be07cee2b8b7447f51"
uuid = "7f904dfe-b85e-4ff6-b463-dae2292396a8"
version = "0.7.54"

[[deps.PrecompileTools]]
deps = ["Preferences"]
git-tree-sha1 = "03b4c25b43cb84cee5c90aa9b5ea0a78fd848d2f"
uuid = "aea7be01-6a6a-4083-8856-8a6e6704d82a"
version = "1.2.0"

[[deps.Preferences]]
deps = ["TOML"]
git-tree-sha1 = "00805cd429dcb4870060ff49ef443486c262e38e"
uuid = "21216c6a-2e73-6563-6e65-726566657250"
version = "1.4.1"

[[deps.Printf]]
deps = ["Unicode"]
uuid = "de0858da-6303-5e67-8744-51eddeeeb8d7"

[[deps.REPL]]
deps = ["InteractiveUtils", "Markdown", "Sockets", "Unicode"]
uuid = "3fa0cd96-eef1-5676-8a61-b3b8758bbffb"

[[deps.Random]]
deps = ["SHA", "Serialization"]
uuid = "9a3f8284-a2c9-5f02-9a11-845980a1fd5c"

[[deps.Reexport]]
git-tree-sha1 = "45e428421666073eab6f2da5c9d310d99bb12f9b"
uuid = "189a3867-3050-52da-a836-e630ba90ab69"
version = "1.2.2"

[[deps.SHA]]
uuid = "ea8e919c-243c-51af-8825-aaa63cd721ce"
version = "0.7.0"

[[deps.Serialization]]
uuid = "9e88b42a-f829-5b0c-bbe9-9e923198166b"

[[deps.Sockets]]
uuid = "6462fe0b-24de-5631-8697-dd941f90decc"

[[deps.SparseArrays]]
deps = ["Libdl", "LinearAlgebra", "Random", "Serialization", "SuiteSparse_jll"]
uuid = "2f01184e-e22b-5df5-ae63-d93ebab69eaf"

[[deps.Statistics]]
deps = ["LinearAlgebra", "SparseArrays"]
uuid = "10745b16-79ce-11e8-11f9-7d13ad32a3b2"
version = "1.9.0"

[[deps.SuiteSparse_jll]]
deps = ["Artifacts", "Libdl", "Pkg", "libblastrampoline_jll"]
uuid = "bea87d4a-7f5b-5778-9afe-8cc45184846c"
version = "5.10.1+6"

[[deps.TOML]]
deps = ["Dates"]
uuid = "fa267f1f-6049-4f14-aa54-33bafae1ed76"
version = "1.0.3"

[[deps.Tar]]
deps = ["ArgTools", "SHA"]
uuid = "a4e569a6-e804-4fa4-b0f3-eef7a1d5b13e"
version = "1.10.0"

[[deps.Test]]
deps = ["InteractiveUtils", "Logging", "Random", "Serialization"]
uuid = "8dfed614-e22c-5e08-85e1-65c5234f0b40"

[[deps.Tricks]]
git-tree-sha1 = "eae1bb484cd63b36999ee58be2de6c178105112f"
uuid = "410a4b4d-49e4-4fbc-ab6d-cb71b17b3775"
version = "0.1.8"

[[deps.URIs]]
git-tree-sha1 = "67db6cc7b3821e19ebe75791a9dd19c9b1188f2b"
uuid = "5c2747f8-b7ea-4ff2-ba2e-563bfd36b1d4"
version = "1.5.1"

[[deps.UUIDs]]
deps = ["Random", "SHA"]
uuid = "cf7118a7-6976-5b1a-9a39-7adc72f591a4"

[[deps.Unicode]]
uuid = "4ec0a83e-493e-50e2-b9ac-8f72acf5a8f5"

[[deps.Zlib_jll]]
deps = ["Libdl"]
uuid = "83775a58-1f1d-513f-b197-d71354ab007a"
version = "1.2.13+0"

[[deps.libblastrampoline_jll]]
deps = ["Artifacts", "Libdl"]
uuid = "8e850b90-86db-534c-a0d3-1478176c7d93"
version = "5.8.0+0"

[[deps.nghttp2_jll]]
deps = ["Artifacts", "Libdl"]
uuid = "8e850ede-7688-5339-a07c-302acd2aaf8d"
version = "1.52.0+1"

[[deps.p7zip_jll]]
deps = ["Artifacts", "Libdl"]
uuid = "3f19e933-33d8-53b3-aaab-bd5110c3b7a0"
version = "17.4.0+0"
"""

# ╔═╡ Cell order:
# ╠═f1ae139b-c300-4b59-8014-b813069a53a5
# ╟─868c9f16-ef29-4d9b-a352-06849c882351
# ╟─af1138da-3cde-4f80-8065-14ebd681dd96
# ╠═4b294a5c-9ca1-4dff-81da-538d21521a7b
# ╠═b3c3b814-91e9-11ee-3ac1-3788a1119316
# ╠═9fa608a6-18a1-430e-8218-5bc2c128e598
# ╠═4ede6c84-3d0a-4301-8d4a-b75ffaf78027
# ╠═9022cf17-1f05-4611-afbb-c78fd84fea20
# ╠═1b73da7e-65af-4cc4-b5e3-af1c1eec5371
# ╠═d97e6cbd-a2f0-489a-b9ce-aa3fe11c3d27
# ╠═6f53abca-2d55-4b0b-99f6-a08bb3906f27
# ╠═b905fafb-99e2-4676-8e16-6d767a2d9b3a
# ╟─ea4d39f5-6b2c-4c9a-ac57-aa101810c5da
# ╟─fa27692a-3993-4d37-b6fe-2a50ddef39d3
# ╠═068e4434-3318-41a7-9f64-4e4f2ab7268d
# ╠═690360bf-7a70-448e-8496-2e1302dd5152
# ╠═c9a470b7-1ecf-44b0-8e4e-db638ddfab83
# ╠═9d760986-682c-4db1-bb70-132510469525
# ╠═e8ebe8d3-5845-4dbd-b371-a3587a6e5cb2
# ╠═fa01c074-0828-4a41-86f8-3c1d995f6fb9
# ╠═dcedd804-b8ec-4741-bc07-bd53ed0eabf0
# ╟─2160c6ee-2cc1-4901-8da3-b5a55af294b2
# ╠═ec139f8b-b971-4264-bb7a-7ec77d27da0a
# ╟─43ea3e33-e1c6-42c2-ab8d-18789be67699
# ╠═989b82d5-1998-4dd3-9f0e-39b07952cf3e
# ╠═ed02156c-bdaa-4e7f-8805-9bdec890d8b0
# ╠═fa2cb78a-2a46-4844-8037-c28f9bf575e0
# ╠═ee42669f-262a-4361-a519-aaedaf058fa8
# ╠═ddc04f04-04d6-47e1-971e-7c608f864f79
# ╠═c11803b7-685d-4d45-9a9f-2ef884cdfdc4
# ╠═c9d427e8-5fc1-4475-a53c-548a17afc5ac
# ╠═7acbc4e0-7016-4430-97fb-895fb68161ff
# ╠═36f9b67f-5794-4515-8c53-abf13f550307
# ╟─00000000-0000-0000-0000-000000000001
# ╟─00000000-0000-0000-0000-000000000002
